
@prefix : <http://goonmill.org/2007/family.n3#>.
@prefix p: <http://goonmill.org/2007/property.n3#> .
@prefix c: <http://goonmill.org/2007/characteristic.n3#>.
@prefix s: <http://goonmill.org/2007/skill.n3#>.

@prefix die: <http://goonmill.org/2007/dice.n3#>.
@prefix pcclass: <http://goonmill.org/2007/pcclass.n3#>.

@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .

<> rdfs:title "Families of Monster" .

:standardDarkvision a c:Darkvision;
    a c:Sense;
    rdfs:label "Darkvision";
    p:range "60 ft.";
.

:aberration
    p:textLocation "familytext/aberration.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves c:will;
    p:skillPoints "(int+2)*hitDiceType";

    p:perk :standardDarkvision;
    p:proficiency c:naturalWeapons, c:armorAsDescribed;
.

:abomination
    p:textLocation "familytext/abomination.htm";
    a c:Family;
    p:language s:abyssal, s:celestial, s:infernal;

    p:perk [ a c:Immunity; rdf:value ( c:polymorph ) ];
    p:perk [ a c:Immunity; rdf:value ( c:mindAffecting ) ];
    p:perk c:blindsight;
    p:perk c:noAbilityDamage, c:noAbilityDrain, c:noDeathFromMassiveDamage;
    p:perk [ a c:Resistance; rdf:value ( c:cold 20 ) ];
    p:perk [ a c:Resistance; rdf:value ( c:fire 20 ) ];
    p:perk c:summon;
    p:perk c:telepathy;
.

:animal
    p:textLocation "familytext/animal.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves c:fort, c:ref;
    p:skillPoints "(int+2)*hitDiceType";
    p:abilityConstraint [ p:ability c:int; p:maximum 2 ];
    p:alignment c:neutral;
    p:treasure rdf:nil;
    p:proficiency c:naturalWeapons, c:armorNone;

    p:perk c:lowLightVision;
    p:additional "noncombative animals -5 to attack, 1/2 str bonus to dam";
.

:construct
    p:textLocation "familytext/construct.htm";
    a c:Family;
    p:hitDiceType die:d10;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves rdf:nil;
    p:skillPoints "(int+2)*hitDiceType";
    p:abilityConstraint [ p:ability c:con; p:maximum 0 ];
    p:proficiency c:naturalWeapons, c:armorNone, c:weaponsAsDescribed;

    p:perk c:lowLightVision, :standardDarkvision;
    p:perk c:noAbilityDamage, c:noAbilityDrain, c:noEnergyDrain, 
            c:noNonLethalDamage, c:noCriticalHits, c:noTiring, 
            c:noDeathFromMassiveDamage, c:destroyedAtZero;
    p:perk c:soulless;
    p:perk c:noEat, c:noSleep, c:noBreathe;
    p:perk c:fortitudeImmunity;
    p:perk [ a c:Immunity; rdf:value ( c:mindAffecting ) ],
           [ a c:Immunity; rdf:value ( c:poison ) ],
           [ a c:Immunity; rdf:value ( c:sleep ) ],
           [ a c:Immunity; rdf:value ( c:paralysis ) ],
           [ a c:Immunity; rdf:value ( c:stunning ) ],
           [ a c:Immunity; rdf:value ( c:disease ) ],
           [ a c:Immunity; rdf:value ( c:deathEffects ) ],
           [ a c:Immunity; rdf:value ( c:necromancy ) ];
    p:additional 
        "Cannot heal damage on their own, but often can be repaired by exposing them to a certain kind of effect (see the creature’s description for details) or through the use of the Craft Construct feat. A construct with the fast healing special quality still benefits from that quality.", 
        "Because its body is a mass of unliving matter, a construct is hard to destroy. It gains bonus hit points based on size, as shown on the table. [table]"
    ;
.

:dragon
    p:textLocation "familytext/dragon.htm";
    a c:Family;
    p:hitDiceType die:d10;
    p:babTable pcclass:fighter!p:babTable;
    p:goodSaves c:fort, c:ref, c:will;
    p:skillPoints "(int+6)*hitDiceType";
    p:proficiency c:naturalWeapons, c:weaponsAsDescribed, c:armorNone;

    p:perk :standardDarkvision, c:lowLightVision;
    p:perk [ a c:Immunity; rdf:value ( c:sleep ) ],
           [ a c:Immunity; rdf:value ( c:paralysis ) ];
.
# TODO - requires reasoning
{ { ?m p:family :dragon . ?m p:shapeChangeStatus c:asHumanoid } 
    => { ?m p:proficiency c:simpleWeapons } ;
} rdfs:label "In human form, proficient with simple weapons.";
.

:elemental
    p:textLocation "familytext/elemental.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:skillPoints "(int+2)*hitDiceType";
    p:proficiency c:naturalWeapons, c:weaponsAsDescribed, c:armorAsDescribed;

    p:perk :standardDarkvision;
    p:perk [ a c:Immunity; rdf:value ( c:poison ) ],
           [ a c:Immunity; rdf:value ( c:sleep ) ],
           [ a c:Immunity; rdf:value ( c:stunning ) ],
           [ a c:Immunity; rdf:value ( c:paralysis ) ];
    p:perk c:noCriticalHits, c:noFlanking;
    p:perk c:quasiSoulless;
    p:perk c:noEat, c:noSleep, c:noBreathe;
.
# the goodSaves of an elemental depend on the subType, as given below.
# TODO - requires reasoning
{ { ?m p:family :elemental, :air } => { ?m p:goodSaves c:ref } ;
} rdfs:label "Air elementals have good reflex saves";
.
{ { ?m p:family :elemental, :fire } => { ?m p:goodSaves c:ref } ;
}   rdfs:label "Fire elementals have good reflex saves";
.
{ { ?m p:family :elemental, :earth } => { ?m p:goodSaves c:fort } ;
}   rdfs:label "Earth elementals have good fortitude saves";
.
{ { ?m p:family :elemental, :water } => { ?m p:goodSaves c:fort } ;
}   rdfs:label "Water elementals have good fortitude saves";
.

:fey
    p:textLocation "familytext/fey.htm";
    a c:Family;
    p:hitDiceType die:d6;
    p:babTable pcclass:wizard!p:babTable;
    p:goodSaves c:ref, c:will;
    p:skillPoints "(int+6)*hitDiceType";
    p:proficiency c:simpleWeapons, c:weaponsAsDescribed, c:armorAsDescribed;

    p:perk c:lowLightVision;
.

:giant
    p:textLocation "familytext/giant.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves c:fort;
    p:skillPoints "(int+2)*hitDiceType";
    p:proficiency c:simpleWeapons, c:martialWeapons, c:naturalWeapons, 
            c:armorAsDescribed;

    p:perk c:lowLightVision;
.

:humanoid
    p:textLocation "familytext/humanoid.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves c:ref;
    p:skillPoints "(int+2)*hitDiceType";
    p:proficiency c:simpleWeapons, c:armorAsDescribed;
    p:additional "Proficiencies may be determined by character class.";
.

:magicalBeast
    p:textLocation "familytext/magicalBeast.htm";
    a c:Family;
    rdfs:label "Magical Beast";
    p:hitDiceType die:d10;
    p:babTable pcclass:fighter!p:babTable;
    p:goodSaves c:fort, c:ref;
    p:skillPoints "(int+2)*hitDiceType";
    p:proficiency c:naturalWeapons, c:armorNone;

    p:perk c:lowLightVision, :standardDarkvision;
.

:monstrousHumanoid
    p:textLocation "familytext/monstrousHumanoid.htm";
    a c:Family;
    rdfs:label "Monstrous Humanoid";
    p:hitDiceType die:d8;
    p:babTable pcclass:fighter!p:babTable;
    p:goodSaves c:ref, c:will;
    p:skillPoints "(int+2)*hitDiceType";
    p:proficiency c:simpleWeapons, c:weaponsAsDescribed, c:armorAsDescribed;

    p:perk :standardDarkvision;
.

:ooze
    p:textLocation "familytext/ooze.htm";
    a c:Family;
    p:hitDiceType die:d10;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves rdf:nil; 
    p:skillPoints "(int+2)*hitDiceType";
    p:abilityConstraint [ p:ability c:int; p:maximum 0 ];
    p:proficiency c:naturalWeapons, c:armorNone;

    p:perk c:blind, c:blindsight;
    p:perk [ a c:Immunity; rdf:value ( c:poison ) ],
           [ a c:Immunity; rdf:value ( c:sleep ) ],
           [ a c:Immunity; rdf:value ( c:paralysis ) ],
           [ a c:Immunity; rdf:value ( c:polymorph ) ],
           [ a c:Immunity; rdf:value ( c:stunning ) ],
           [ a c:Immunity; rdf:value ( c:mindAffecting ) ];
    p:perk c:noCriticalHits, c:noFlanking;
    p:perk c:noSleep;
    p:additional 
        "Some oozes have the ability to deal acid damage to objects. In such a case, the amount of damage is equal to 10 + ½ ooze’s HD + ooze’s Con modifier per full round of contact."
    ;
.

:outsider
    p:textLocation "familytext/outsider.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:fighter!p:babTable;
    p:goodSaves c:fort, c:ref, c:will;
    p:skillPoints "(int+8)*hitDiceType";
    p:proficiency c:simpleWeapons, c:martialWeapons, c:weaponsAsDescribed, 
            c:armorAsDescribed;

    p:perk :standardDarkvision;
    p:perk c:quasiSoulless;
    p:perk c:noEat, c:noSleep;
.
# TODO - requires reasoning.
{ { ?m p:family :outsider; p:existentialStatus c:native. } =>
    { 
      { ?m p:vitality c:noEat } a log:Falsehood .
      { ?m p:vitality c:noSleep } a log:Falsehood .
      { ?m p:specialQuality c:quasiSoulless } a log:Falsehood .
    }; 
}   rdfs:label "outsiders on their native planes are different.";
.


:plant
    p:textLocation "familytext/plant.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves c:fort;
    p:skillPoints "(int+2)*hitDiceType";
    p:proficiency c:naturalWeapons, c:armorNone;

    p:perk c:lowLightVision;
    p:perk [ a c:Immunity; rdf:value ( c:mindAffecting ) ], 
           [ a c:Immunity; rdf:value ( c:poison ) ], 
           [ a c:Immunity; rdf:value ( c:sleep ) ], 
           [ a c:Immunity; rdf:value ( c:paralysis ) ], 
           [ a c:Immunity; rdf:value ( c:polymorph ) ], 
           [ a c:Immunity; rdf:value ( c:stunning ) ];
    p:perk c:noCriticalHits;
    p:perk c:noSleep;
.

:undead
    p:textLocation "familytext/undead.htm";
    a c:Family;
    p:hitDiceType die:d12;
    p:babTable pcclass:wizard!p:babTable;
    p:goodSaves c:will;
    p:skillPoints "(int+4)*hitDiceType";
    p:abilityConstraint [ p:ability c:con; p:maximum 0 ];
    p:proficiency c:naturalWeapons, c:weaponsAsDescribed, c:simpleWeapons, 
            c:armorAsDescribed;

    p:perk :standardDarkvision;
    p:perk [ a c:Immunity; rdf:value ( c:mindAffecting ) ], 
           [ a c:Immunity; rdf:value ( c:poison ) ], 
           [ a c:Immunity; rdf:value ( c:sleep ) ], 
           [ a c:Immunity; rdf:value ( c:paralysis ) ], 
           [ a c:Immunity; rdf:value ( c:stunning ) ], 
           [ a c:Immunity; rdf:value ( c:disease ) ], 
           [ a c:Immunity; rdf:value ( c:deathEffects ) ];
    p:perk c:noCriticalHits, c:noNonLethalDamage, c:noAbilityDrain, 
            c:noAbilityDamage, c:noEnergyDrain, c:noTiring, 
            c:noDeathFromMassiveDamage, c:destroyedAtZero,
            c:negativeEnergyHealing;
    p:perk c:fortitudeImmunity;
    p:perk c:soulless;
    p:perk c:noBreathe, c:noEat, c:noSleep;
.
# TODO - requires reasoning
{ { ?m p:family :undead . ?m c:int 0 } 
    => { ?m p:combatMechanic c:cannotHealNaturally };
}   rdfs:label "Undead with no intelligence score cannot heal on their own.";
.
  


:vermin
    p:textLocation "familytext/vermin.htm";
    a c:Family;
    p:hitDiceType die:d8;
    p:babTable pcclass:cleric!p:babTable;
    p:goodSaves c:fort;
    p:skillPoints "(int+2)*hitDiceType";
    p:abilityConstraint [ p:ability c:int; p:maximum 0 ];
    p:proficiency c:naturalWeapons, c:armorNone;

    p:perk :standardDarkvision;
    p:immunity [ a c:Immunity; rdf:value ( c:mindAffecting ) ];
.

:air
    p:textLocation "familytext/air.htm";
    a c:Family;
    p:movement [ a c:Fly; p:flight c:perfectFlight ];
.

:angel
    p:textLocation "familytext/angel.htm";
    a c:Family;
    p:saveBonuses [ c:poison +4 ];

    p:perk :standardDarkvision;
    p:perk [ a c:Immunity; rdf:value ( c:acid ) ], 
           [ a c:Immunity; rdf:value ( c:cold ) ], 
           [ a c:Immunity; rdf:value ( c:petrification ) ];
    p:perk [ a c:Resistance; rdf:value ( c:electricity 10 ) ],
           [ a c:Resistance; rdf:value ( c:fire 10 ) ];
    p:perk c:protectiveAura, c:tongues;
.

:aquatic
    p:textLocation "familytext/aquatic.htm";
    rdfs:comment """<p>These creatures always have swim speeds and thus can
    move in water without making <a href="/srd/skills/swim.htm">Swim</a>
    checks. An aquatic creature can breathe underwater. It cannot also breathe
    air unless it has the amphibious special quality.</p> """;
    a c:Family;
    p:movement c:swim;

    p:perk c:breatheUnderwater;
    p:perk c:mustBreatheWater;
.

:amphibious
    p:textLocation "familytext/amphibious.htm";

    a c:Family
. # NOT a SRD-standard type!  but required to define aquatic.
# TODO - requires reasoning
{ { ?m p:family :aquatic, :amphibious } 
    => { { ?m p:vitality c:mustBreatheWater } a log:Falsehood. };
}   rdfs:label "Aquatic creates which are amphibious may breathe air.";
.


:archon
    p:textLocation "familytext/archon.htm";

    a c:Family;
    p:saveBonuses [ c:poison +4 ];

    p:perk :standardDarkvision;
    p:perk [ a c:Immunity; rdf:value ( c:electricity ) ], 
               [ a c:Immunity; rdf:value ( c:petrification ) ];
    p:perk c:auraOfMenace, c:magicCircleAgainstEvil, c:teleport, c:tongues;
.

:augmented
    p:textLocation "familytext/augmented.htm";
    a c:Family;
    # combined with some other type or subtype, has the traits of current type and features of original type
.

:chaotic
    p:textLocation "familytext/chaotic.htm";
    a c:Family;
    p:alignmentEffect c:chaotic;
.

:cold
    p:textLocation "familytext/cold.htm";
    a c:Family;
    p:perk [ a c:Immunity; rdf:value ( c:cold ) ];
    p:perk [ a c:Vulnerability; rdf:value ( c:fire ) ];
.

:demon
    p:textLocation "familytext/demon.htm";
    a c:Family;
    p:language s:abyssal, s:celestial, s:draconic;

    p:perk [ a c:Immunity; rdf:value ( c:electricity ); ], 
           [ a c:Immunity; rdf:value ( c:poison ) ];
    p:perk [ a c:Resistance; rdf:value ( c:acid 10 ); ],
           [ a c:Resistance; rdf:value ( c:cold 10 ); ],
           [ a c:Resistance; rdf:value ( c:fire 10 ); ];
    p:perk c:summon, c:telepathy;
.

:devil
    p:textLocation "familytext/devil.htm";
    a c:Family;
    p:language s:infernal, s:celestial, s:draconic;

    p:perk [ a c:Immunity; rdf:value ( c:fire ); ], 
           [ a c:Immunity; rdf:value ( c:poison ); ];
    p:perk [ a c:Resistance; rdf:value ( c:acid 10 ); ],
           [ a c:Resistance; rdf:value ( c:cold 10 ); ];
    p:perk c:seeInDarkness;
    p:perk c:summon, c:telepathy;
.

:earth
    p:textLocation "familytext/earth.htm";
    a c:Family;
    p:movement c:burrow;
.

:evil
    p:textLocation "familytext/evil.htm";
    a c:Family;
    p:alignmentEffect c:evil;
.

:extraplanar
    p:textLocation "familytext/extraplanar.htm";
    a c:Family;
.

:fire
    p:textLocation "familytext/fire.htm";
    a c:Family;
    p:perk [ a c:Immunity; rdf:value ( c:fire ) ];
    p:perk [ a c:Vulnerability; rdf:value ( c:cold ) ];
.

:goblinoid
    p:textLocation "familytext/goblinoid.htm";
    a c:Family;
.

:good
    p:textLocation "familytext/good.htm";
    a c:Family;
    p:alignmentEffect c:good;
.

:incorporeal
    p:textLocation "familytext/incorporeal.htm";
    a c:Family;
    p:abilityConstraint [ p:ability c:str; p:maximum 0 ];
    p:movement c:incorporealMovement;

    p:perk [ a c:Immunity; rdf:value ( c:nonMagical ) ];
    p:perk c:incorporealSenses;
    p:perk c:weaponFinesseAlways, c:incorporealDefense, c:charismaDeflection;
    p:additional 
        "Although it is not a magical attack, holy water can affect incorporeal undead, but a hit with holy water has a 50% chance of not affecting an incorporeal creature.",
        "It cannot take any physical action that would move or manipulate an opponent or its equipment, nor is it subject to such actions. Incorporeal creatures have no weight and do not set off traps that are triggered by weight."
    ;
.

:lawful
    p:textLocation "familytext/lawful.htm";
    a c:Family;
    p:alignmentEffect c:lawful;
.

:native
    p:textLocation "familytext/native.htm";
    a c:Family
.

:reptilian
    p:textLocation "familytext/reptilian.htm";
    a c:Family
.

:shapechanger
    p:textLocation "familytext/shapechanger.htm";
    a c:Family;
    p:proficiency c:naturalWeapons, c:simpleWeapons, c:weaponsAsDescribed, c:armorAsDescribed;
.

:swarm
    p:textLocation "familytext/swarm.htm";
    a c:Family;

    p:perk [ a c:Vulnerability; rdf:value ( c:areaEffect ) ];
    p:perk c:noCriticalHits, c:noFlanking, c:destroyedAtZero, c:noTrip, 
            c:noGrapple, c:noBullRush, c:diffuseTarget, c:cannotGrapple,
            c:cannotMakeAttackOfOpportunity, c:distraction;
    p:additional "Swarms made up of Diminutive or Fine creatures are susceptible to high winds such as that created by a gust of wind spell. For purposes of determining the effects of wind on a swarm, treat the swarm as a creature of the same size as its constituent creatures. A swarm rendered unconscious by means of nonlethal damage becomes disorganized and dispersed, and does not reform until its hit points exceed its nonlethal damage.";
.
# TODO - requires reasoning.
{ { ?m p:family :swarm; p:size c:tiny } 
    => { ?m p:resistance [ p:attackEffect c:piercing; rdf:value "50%" ], 
                         [ p:attackEffect c:slashing; rdf:value "50%" ] };
}   rdfs:label "A swarm of tiny creatures takes half damage from piercing and slashing.";
.
{ { ?m p:family :swarm; p:size c:diminutive } => { ?m p:combatMechanic c:noWeaponDamage };
}   rdfs:label "A swarm composed of Diminutive creatures is immune to all weapon damage.";
.
{ { ?m p:family :swarm; p:size c:fine } =>  { ?m p:combatMechanic c:noWeaponDamage };
}   rdfs:label "A swarm composed of Fine creatures is immune to all weapon damage.";
.

:water
    p:textLocation "familytext/water.htm";
    a c:Family;
    p:movement c:swim;
    p:perk c:breatheUnderwater;
.

# vim:si
